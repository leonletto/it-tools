# =============================================================================
# IT-Tools Development Dockerfile
# =============================================================================
# This Dockerfile creates a development environment with live reload
# functionality using Vite's development server.
#
# Features:
# - Hot Module Replacement (HMR)
# - Fast refresh on file changes with polling (for Docker on macOS/Windows)
# - Source maps for debugging
# - Vite dev server on port 5173
# =============================================================================

FROM node:lts-alpine

# Set working directory
WORKDIR /app

# Install pnpm globally
RUN npm install -g pnpm

# Copy package files
COPY package.json pnpm-lock.yaml ./

# Install dependencies
RUN pnpm install --frozen-lockfile

# Copy application source
COPY . .

# Expose Vite dev server port
EXPOSE 5173

# Start Vite development server with Docker-specific config
# Uses vite.config.docker.ts which enables polling for file watching
CMD ["pnpm", "dev", "--config", "vite.config.docker.ts", "--host", "0.0.0.0", "--port", "5173"]

